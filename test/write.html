<script>
  (function(){
  if (!window.CicadaRender) {
    alert('正在升级引擎或组件库, 请稍候重试')
    return
  }
  window.ENV = 'debug'
  
window.cicada = {
  currentUser: {"optCodes":["IFIM_DQ_RULE_MONITOR","ROLE_HANDLE_MANUAL_WARNING","INTERNAL_USER_SCOPE","FCPRODMNG_QUERY","IFIM_LOGIN","CLOSE_USER_HISTORY_USER_QUERY","antprocess_/ticket/tickets.json?type=manage_GET","FCPRODMNG_OPERATE","ABOSS_ACCESS_PERMISSION"],"loginUser":{"outUserNo":"120945","extProperty":{"domainIds":"[&quot;KOUBEI_SALESCRM&quot;]","userLevel":"P6","supervisorEmpId":"63383","aliww":"名风","tbww":"名风","nickNameCn":"名风","userType":"R","canChangeDomain":"false"},"modifyId":"-1","nickName":"名风","managerId":"2015012100080093","operatorName":"hongji.lhj","realName":"李宏吉","modifyTime":1534131323000,"modifyName":"ANONYMOUS_USER","createTime":1477537880000,"createId":"-1","tntInstId":"ALIPW3CN","id":"108272","createName":"ANONYMOUS_USER"},"umID":null,"loginIP":null},
  globalConstants: {"ResultInfoMessageTypeEnum":{"SUCCESS":{"desc":"成功","code":"SUCCESS"},"ERROR":{"desc":"业务失败","code":"ERROR"}}},
  appExtInfo: {"appVersion":"1.0001","default":"true","appName":"支付宝小程序","tntInstId":"ANTGW2CN","appId":"1161704010000041091","appAlias":"tinyapp"},
  pageExtInfo: {},
}

  window.cicada.env = 'debug'
  
function _makeBabelRuntimeRegisterName(aPath) {
  var modulePath = aPath.split('babel-runtime')[1]
  modulePath = modulePath.replace(/\.js$/, '')
  modulePath = modulePath === '/regenerator/index' ? '/regenerator' : modulePath
  return modulePath.replace(/[^\w]/g, '')
}
function _fakeRequire(modulePath) {
  return window.BabelRuntime[_makeBabelRuntimeRegisterName(modulePath)]
}
function _runMainWithRequestsAndArguments(main, requests, args) {
  var argv = Array.prototype.slice.call(args)
  argv[0].requests = requests
  return main.apply(null, argv)  
}
/* ======== common logic start ======== */

const __CICADA_LOGICS__ = {}
function _getInjectArgumentsAndRestArguments(args) {
  const argv = Array.prototype.slice.call(args)
  let injectArguments = { util: window.CicadaUtil }
  let restArguments = []
  if (argv.length) {
    if (argv[0] && argv[0].store) {
      injectArguments = Object.assign({}, injectArguments, argv[0])
      restArguments = argv.slice(1)
    } else {
      restArguments = argv
    }
  }
  return { injectArguments, restArguments }
}


__CICADA_LOGICS__["initMeasureOptions"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref, fields, data, group) {
  var util = _ref.util;

  var _ = window._;
  var options = buildOptions(fields);
  _.each(data, function (_ref2) {
    var field = _ref2.field,
        statType = _ref2.statType;

    options = renderOptions(options, field, statType);
  });
  _.each(group, function (field) {
    options = renderOptions(options, field, "grouped");
  });
  return options;
}

function buildOptions(fields) {
  var fieldOptions = [];
  window._.each(fields, function (_ref3) {
    var fieldCode = _ref3.fieldCode,
        fieldName = _ref3.fieldName,
        fieldCategory = _ref3.fieldCategory,
        fieldType = _ref3.fieldType;

    if (fieldCategory === "custom") {
      fieldOptions.push({ code: fieldCode, name: fieldName, type: fieldType, value: fieldCode, label: fieldName });
    }
  });
  fieldOptions.push({
    code: "user_id",
    name: "总次数",
    type: "string",
    value: "user_id#count",
    label: "总次数",
    statType: "count"
  });
  fieldOptions.push({
    code: "user_id",
    name: "去重人数",
    type: "string",
    value: "user_id#approx_dis",
    label: "去重人数",
    statType: "approx_dis"
  });
  fieldOptions.push({
    code: "user_id",
    name: "人均次数",
    type: "string",
    value: "user_id#person_avg",
    label: "人均次数",
    statType: "person_avg"
  });
  return fieldOptions;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["initStatTypeOptions"] = function() {
  
var _extends2 = _fakeRequire("babel-runtime/helpers/extends");

var _extends3 = _interopRequireDefault(_extends2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref, fields, measures, groups, code) {
  var util = _ref.util;


  if (code === "user_id") return [];

  var field = window._.findWhere(fields, { fieldCode: code });
  if (!field) return [];

  var codes = {};
  window._.each(measures, function (_ref2) {
    var field = _ref2.field,
        statType = _ref2.statType;

    if (field || statType) {
      if (!codes[field]) codes[field] = [];
      codes[field].push(window._.contains(groups, field) ? "approx_dis" : statType);
    }
  });

  if (field.fieldType === "string") {
    return codes[code] ? disabledOptions(STRING_STAT_TYPE_OPTIONS, codes[code]) : STRING_STAT_TYPE_OPTIONS;
  }
  if (field.fieldType === "int") {
    return codes[code] ? disabledOptions(INTEGER_STAT_TYPE_OPTIONS, codes[code]) : INTEGER_STAT_TYPE_OPTIONS;
  }
  return [];
}

var STRING_STAT_TYPE_OPTIONS = [{ value: "approx_dis", label: "去重数" }];
var INTEGER_STAT_TYPE_OPTIONS = [{ value: "max", label: "最大值" }, { value: "min", label: "最小值" }, { value: "avg", label: "次均值" }, { value: "person_avg", label: "人均值" }, { value: "sum", label: "总和" }];

function disabledOptions(options, disabled) {
  return window._.map(options, function (option) {
    return window._.contains(disabled, option.value) ? (0, _extends3.default)({}, option, { disabled: true }) : (0, _extends3.default)({}, option);
  });
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["initMeasureItems"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref, fields, measures, groups) {
  var util = _ref.util;

  var items = [];
  window._.each(measures, function (_ref2, index) {
    var field = _ref2.field,
        statType = _ref2.statType;

    items[index] = {
      MeasureField: { value: field === "user_id" ? field + "#" + statType : field, options: initMeasureOptions(fields, measures, groups) },
      MeasureStatType: { value: statType, options: initStatTypeOptions(fields, measures, groups, field) }
    };
  });
  return items;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["mergeArray"] = function() {
  
var _extends2 = _fakeRequire("babel-runtime/helpers/extends");

var _extends3 = _interopRequireDefault(_extends2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */

function main(_ref) {
  var util = _ref.util;
  var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var target = arguments[2];
  var handler = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {
    var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { MeasureField: {}, MeasureStatType: {} };
    var t = arguments[1];
    return {
      MeasureField: (0, _extends3.default)({}, s.MeasureField, t.MeasureField),
      MeasureStatType: (0, _extends3.default)({}, s.MeasureStatType, t.MeasureStatType)
    };
  };

  return target.map(function (t, i) {
    return handler(source[i], t);
  });
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["initGroupOptions"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref, fields, data, group) {
  var util = _ref.util;

  var _ = window._;
  var options = buildOptions(fields);
  _.each(data, function (_ref2) {
    var field = _ref2.field,
        statType = _ref2.statType;

    options = renderOptions(options, field, statType);
  });
  _.each(group, function (field) {
    options = renderOptions(options, field, "grouped");
  });
  return options;
}

function buildOptions(fields) {
  var fieldOptions = [];
  window._.each(fields, function (_ref3) {
    var fieldCode = _ref3.fieldCode,
        fieldName = _ref3.fieldName,
        fieldType = _ref3.fieldType;

    if (fieldType === "string") {
      fieldOptions.push({ code: fieldCode, name: fieldName, type: fieldType, value: fieldCode, label: fieldName });
    }
  });
  return fieldOptions;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["renderOptions"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref, options, field, statType) {
  var util = _ref.util;

  if (field && statType) {
    window._.each(options, function (option) {
      if (field === "user_id") {
        if (option.type === "string" && statType === option.statType && option.code === "user_id") {
          option.disabled = true;
        }
      } else {
        if (option.type === "string" && (statType === "approx_dis" || statType === "grouped") && option.code === field) {
          option.disabled = true;
        }
      }
    });
  }
  return options;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["initGroupItems"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref, fields, measures, groups) {
  var util = _ref.util;

  var items = [];
  window._.each(groups, function (field, index) {
    items[index] = {
      Group: { value: field, options: initGroupOptions(fields, measures, groups) }
    };
  });
  return items;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["initFilterItems"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref, fields, filters) {
  var util = _ref.util;
  var relation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "and";

  var _ = window._;
  var items = [];
  _.each(filters, function (filter, i) {
    items.push(buildFilterItems(fields, relation, filter, i));
  });
  return items;
}

function buildFilterItems(fields, relation, _ref2, i) {
  var field = _ref2.field,
      type = _ref2.type,
      value = _ref2.value;


  return {
    Relation: {
      disabled: i > 1 ? true : false,
      value: relation
    },
    Field: {
      value: field && field.code,
      options: buildOptions(fields)
    },
    FilterType: {
      value: type
    },
    InputValue: {
      value: value
    },
    InputNumberValue: {
      value: value
    },
    DicValue: {
      value: value
    }
  };
}

function buildOptions(fields) {
  var fieldOptions = [];
  window._.each(fields, function (_ref3) {
    var fieldCode = _ref3.fieldCode,
        fieldName = _ref3.fieldName,
        fieldType = _ref3.fieldType,
        hasEnums = _ref3.hasEnums;

    fieldOptions.push({ code: fieldCode, name: fieldName, type: fieldType, value: fieldCode, label: fieldName, hasEnums: hasEnums });
  });
  return fieldOptions;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["constSet"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main() {
  /**
  * store中key的管理;
  * 文案管理;
  */
  return {
    _key_repeatAction: 'repeatAction',
    _key_repeatDataField: 'repeatDataField',
    _key_eventFields: 'eventFields',
    _key_eventNewFieldsRow: 'eventNewFieldsRow',
    _key_eventContainFieldsRow: 'eventContainFieldsRow',
    _tip_noData: '没有数据!',
    _page_len: 100,
    _element_len: 50,
    _fieldCode_len: 50,
    _fieldValue_len: 50,
    _fieldName_len: 15,
    _fieldComment_len: 25

  };
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["ajaxURLSet"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 * 
 * 后台rest服务集合
 */
function main() {

  //是否是cicadaDebug模式，用于控制post和get，true时采用get，false时采用post
  var cicadaDebug = false;
  var serverDomain = cicadaDebug ? "" : "https://luopan.alipay.com";
  var antlogmngServerDomain = cicadaDebug ? "http://antlogmng.inc.alipay.net" : "https://antlogmng.alipay.com";
  return {
    cicadaDebug: cicadaDebug,
    //事件列表
    'mngEventListURL': serverDomain + "/report/tinyapp/eventList.json",
    //自定义字段列表
    'mngCustomFieldListURL': serverDomain + "/report/tinyapp/customFieldList.json",
    //全局字段列表
    'mngGlobalFieldListURL': serverDomain + "/report/tinyapp/globalFieldList.json",
    //查看发布版
    'mngQueryPublishEventURL': serverDomain + "/report/tinyapp/queryPublishEvent.json",
    //查询单个事件配置
    'mngQueryByEventIdURL': serverDomain + '/report/tinyapp/queryByEventId.json',
    'mngQueryByEventCode': serverDomain + '/report/tinyapp/queryByEventCode.json',

    //检查事件code
    'mngCheckEventCodeURL': serverDomain + '/report/tinyapp/checkEventCode.json',
    //检查事件中文名称
    'mngCheckEventNameURL': serverDomain + '/report/tinyapp/checkEventName.json',
    //字段检查
    'mngCheckFields': serverDomain + "/report/tinyapp/checkFieldsByAppIdEventId.json",
    //保存事件
    'mngSaveEventURL': serverDomain + "/report/tinyapp/addOrEditEvent.json",
    //查询开发者列表
    'mngQueryDeveloperURL': serverDomain + '/report/tinyapp/queryDevloperByAppId.json',
    //保存并测试流程
    'eventTestURL': serverDomain + '/report/tinyapp/eventTest.json',
    //查询测试数据
    'queryTestDataURL': serverDomain + '/report/tinyapp/queryTestData.json',

    //发布
    'mngPublishEventURL': serverDomain + "/report/tinyapp/publishEvent.json",

    //后台管理界面-查询字段列表
    'bgdQueryAllGlobalFieldsURL': antlogmngServerDomain + "/tinyapp/queryAllGlobalFields.htm",

    //后台管理界面-编辑单个全局字段
    'bgdAddOrEditGlobalFieldURL': antlogmngServerDomain + "/tinyapp/addOrEditGlobalField.htm",

    //后台管理界面-删除单个全局字段
    'bgdDeleteGlobalFieldURL': antlogmngServerDomain + "/tinyapp/deleteGlobalField.htm",
    //后台管理界面-DB到tair同步
    'bgdDB2TairURL': antlogmngServerDomain + "/tinyapp/db2tair.htm",
    //后台管理界面-DB到tair同步
    'bgdBatchDeleteEvent': antlogmngServerDomain + "/tinyapp/batchDeleteEvent.htm",
    //后台管理界面-DB到tair同步
    'bgdDeleteEvent': antlogmngServerDomain + "/tinyapp/deleteEvent.htm"

  };
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["commonUtil"] = function() {
  
var _assign = _fakeRequire("babel-runtime/core-js/object/assign");

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store;

  return {
    wrapUndefined: wrapUndefined,
    isEmptyObject: isEmptyObject,
    isUndefined: isUndefined,

    updateStoreProp: updateStoreProp
  };
}

function wrapUndefined(e, _default) {
  if (isUndefined(e)) return _default || "";
  return e;
}

function isEmptyObject(e) {
  var t;
  for (t in e) {
    return !1;
  }return !0;
}

function isUndefined(variable) {
  return variable === undefined || variable === null || variable === '';
}

/**
 * 用新的config更新 store的特定变量
 */
function updateStoreProp(store, bind, config) {
  var originalConfig = store.get(bind, {});
  (0, _assign2.default)(originalConfig, config);
  store.set(bind, originalConfig);
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["fmtNum"] = function() {
  
/**
 * 格式化数字
 * fmtNum(123456.789,'KMG') => 123K
 * fmtNum(123456.789,'CN') => 12.35万
 * fmtNum(123456.789,'#,###.##') => 123,456.79
 * fmtNum(-123456.789,'#,###.##') => -123,456.79
 * fmtNum(0.01,'%') => 1%
 * fmtNum(0.001,'‰') => 1‰
 * fmtNum(0.0001,'‱') => 1‱
 * fmtNum(0.0001,'0.00') => 0.00
 */
function main(_ref, num, pattern) {
  var requests = _ref.requests,
      util = _ref.util;

  return fmtNum(num, pattern);
}
var KMG = ["", "K", "M", "B", "T", "P", "E"]; // 英文计数,K=10^3,M=10^6,G=10^9
var CN = ["", "万", "亿"]; // 中文计数,支持:####.#万,####.#亿
var BLANK = /^\s*$/;

var genFmt = function genFmt(hl, tl) {
  var fmt = [];
  for (var i = 0, len = hl + tl; i < len; i++) {
    if (i - hl === 0) {
      fmt.push('.');
    }
    fmt.push('#');
  }
  return fmt.join('');
};

/**
 * 去科学计数法
 * @param n {Number|String}
 * @return {String}
 */
function NE(n) {
  var _n = typeof n === 'string' ? n : Number(n).toString();
  var e = Math.max(_n.indexOf('e'), _n.indexOf('E'));
  // 如果出现科学计数法尝试转换为非计数法格式(会丢失精度)
  if (e > 0) {
    var z = parseInt(_n.substring(e + 1)); // 获取科学计数法的值e10=10
    if (z < 0) {
      // 如果是超小的值,尝试保留精度,超过20则放弃
      _n = Number(n).toFixed(Math.min(Math.abs(z) + e - 1, 20)).toString();
    } else {
      // 如果是超大的数,先转换e之前的值然后补0
      _n = Number(n / Math.pow(10, z - e + 1)).toFixed(0).toString();
      for (var i = 0; i < z - e + 2; i++) {
        _n += '0';
      }
    }
  }
  return _n;
}

var format = function format(num, partten) {
  var multiple = 1;
  if (/%/.test(partten)) {
    multiple = 2;
  } else if (/‰/.test(partten)) {
    multiple = 3;
  } else if (/‱/.test(partten)) {
    multiple = 4;
  }
  if (multiple > 1) {
    num = num * Math.pow(10, multiple);
  }

  var fmtarr = partten ? partten.split('.') : [''];
  // 默认精度控制0,查找 patten 的小数,找出控制的小数位,然后对数据进行重新
  var fix = 0;
  var len = fmtarr.length > 1 ? fmtarr[1].length : 0;
  for (var fi = 0; fi < len; fi++) {
    switch (fmtarr[1].substr(fi, 1)) {
      case '#':
      case '0':
        fix += 1;
        break;
    }
  }
  // 对需要处理的数据进行精度控制,仅保留期望的小树位数
  var neg = num < 0;
  var _num = Math.abs(num);
  _num = Number(_num).toFixed(Math.min(fix, 20));
  var strarr = NE(_num).split('.');
  var retstr = '',
      str = strarr[0],
      fmt = fmtarr[0];
  var i = str.length - 1,
      f = void 0;
  var comma = false;
  for (var j = fmt.length - 1; j >= 0; --j) {
    f = fmt.substr(j, 1);
    switch (f) {
      case '#':
      case '0':
        if (i >= 0) {
          retstr = str.substr(i--, 1) + retstr; // 注意:这里i已经-1,所以判断最后一位必须为2
        } else if (f === '0') {
          retstr = '0' + retstr;
        }
        break;
      case ',':
        comma = true;
        retstr = ',' + retstr;
        break;
      default:
        retstr = fmt.substr(j, 1) + retstr;
    }
  }
  if (i >= 0) {
    if (comma) {
      var l = str.length;
      for (; i >= 0; i--) {
        retstr = str.substr(i, 1) + retstr;
        if (i > 0 && (l - i) % 3 === 0) retstr = ',' + retstr;
      }
    } else retstr = str.substr(0, i + 1) + retstr;
  }
  var tail = []; // 处理后的小数部分
  str = strarr.length > 1 ? strarr[1] : '';
  fmt = fmtarr.length > 1 ? fmtarr[1] : '';
  i = 0;
  var m = 0; // 最后一个0的位置,默认为0即不需要占位
  for (var k = 0; k < fmt.length; ++k) {
    f = fmt.substr(k, 1);
    switch (f) {
      case '#':
      case '0':
        m = Math.max(m, f === '0' ? k + 1 : m);
        if (i < str.length) {
          tail.push(str.substr(i++, 1));
        } else {
          tail.push('0');
        }
        break;
      default:
        tail.push(f);
    }
  }
  if (tail.length > 0) {
    // 根据最后一个允许为0的位置,去掉小数不占位的0
    var t = tail.join('').replace(new RegExp(m > 0 ? '(\\d{1,' + m + '})0*(\\D*)$' : '0*(\\D*)$', 'g'), m > 0 ? '$1$2' : '$1');
    retstr = retstr + (/^\d/.test(t) ? '.' + t : t);
  }
  return (neg ? '-' : '') + retstr.replace(/^,+/, '').replace(/\.$/, '');
};

var fmtNum = function fmtNum(num, partten) {
  // 保证是数字,否则不予处理
  if (num === undefined || isNaN(Number(num)) || BLANK.test(num)) {
    return num || 'N/A';
  }
  // 没有指定格式化的表达式,直接返回
  if (!partten) {
    return num;
  }
  var _num = Number(num);
  var neg = _num < 0;
  var i = void 0,
      d = void 0,
      r = void 0,
      p = void 0;
  _num = Math.abs(_num);
  if (partten === 'CN') {
    // 4 为CN数组长度
    for (i = 0, d = 1; i < 4; i++) {
      if (_num < 10000 * d - 1) {
        r = NE(_num / d);
        p = r.indexOf('.');
        return (neg ? '-' : "") + format(r, genFmt(p, 4 - p)) + CN[Math.max(i - 1, 0)];
      }
      d = Math.pow(10000, i);
    }
    return num;
  } else if (partten === 'KMG') {
    // 8 为 KMG 数组长度
    for (i = 0, d = 1; i < 8; i++) {
      if (_num < 1000 * d - 1) {
        r = NE(_num / d);
        p = r.indexOf('.');
        return (neg ? '-' : "") + format(r, genFmt(p, 3 - p)) + KMG[Math.max(i - 1, 0)];
      }
      d = Math.pow(1000, i);
    }
    return num;
  } else if (partten === '%' || partten === '‰' || partten === '‱') {
    var m = partten === '%' ? 2 : partten === '‰' ? 3 : 4;
    var sn = String(num).split('.');
    if (sn.length > 1 && sn[1].length > m) {
      // 限制精度js会丢失精度,必须进行限制
      partten = genFmt(1, Math.min(sn[1].length - m, m + 1)) + partten;
    }
  }

  return format(num, partten);
};

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["elementVisible"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 * 
 * 控制element项是否显示
 */
function main(_ref) {
  var store = _ref.store,
      rootStatePath = _ref.rootStatePath;

  var triggerStatePath = rootStatePath + ".trigger";
  var triggerObject = store.get(triggerStatePath);
  if (commonUtil().isUndefined(triggerObject)) {
    return false;
  }
  var triggerValue = triggerObject.value;
  //click enterPage leavePage pageLoad pageUnload switchTab pullDownRefresh launch background foreground share
  switch (triggerValue) {
    case "click":
      return true;
    default:
      return false;
  }
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["helper"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main() {
  return {
    wrapUndefined: wrapUndefined,
    isEmptyObject: isEmptyObject,
    isUndefined: isUndefined,
    flatten: flatten,
    validationResult: validationResult,
    timetrans: timetrans
  };
}

function wrapUndefined(e, _default) {
  if (isUndefined(e)) return _default || "";
  return e;
}

function isEmptyObject(e) {
  var t;
  for (t in e) {
    return !1;
  }return !0;
}

function isUndefined(variable) {
  return variable === undefined || variable === null || variable === '';
}

/**
 * 入参二维数组[[], []]
 * flatten([1, 'a', 'b'], [2, 4, 'a', 'c'])
 */
function flatten(arr) {
  var newArr = arr.reduce(function (flat, toFlatten) {
    return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);
  }, []);var result;result = newArr.filter(function (ele, i, arr) {
    return newArr.indexOf(ele) === i;
  });return result;
}

function validationResult(bool, msg) {
  return bool ? { type: 'success' } : { type: 'error', help: msg || '不能为空' };
}

function timetrans(date) {
  var date = new Date(date); //如果date为10位不需要乘1000
  var Y = date.getFullYear() + '-';
  var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';
  var D = (date.getDate() < 10 ? '0' + date.getDate() : date.getDate()) + ' ';
  var h = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';
  var m = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';
  var s = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();
  return Y + M + D + h + m + s;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["converter"] = function() {
  
var _stringify = _fakeRequire('babel-runtime/core-js/json/stringify');

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
/**
 * page内公共数据
 */
var _helper = helper();

function main() {
  return {
    buildEvent: buildEvent,
    buildActions: buildActions,
    buildCheckedField: buildCheckedField,
    buildCheckedFieldTable: buildCheckedFieldTable
  };
}
/**
 *  return {
    eventCodeAndName: {
      text: '1001 点击事件'
    },
    eventStatus: {
      text: '已发布'
    },
    gmtModified: {
      text: '2017-04-18 20:10:00'
    }
  }
 */
function buildEvent(eventCode, eventName, eventStatus, gmtModified) {
  var config = {
    eventCodeAndName: {
      text: _helper.wrapUndefined(eventCode) + '    ' + _helper.wrapUndefined(eventName)
    },
    eventStatus: {
      text: eventStatus === 1 ? '已发布' : '未发布'
    }
  };
  if (eventStatus === 1) {
    config.gmtModified = {
      text: _helper.wrapUndefined(gmtModified, '发布时间丢失')
    };
  }
  return config;
}

/**
 * return {
    items: [{
      actionIndex: {
        text: "动作0"
      },
      trigger: {
        text: 'trigger'
      },
      action: {
        text: 'click'
      },
      page: {
        text: '/a/b.html'
      },
      element: {
        text: '.btn'
      },
      repeatDataField: {
        items: [{
          filedName: {
            text: 'name'
          },
          filedValue: {
            text: 'tinyApp'
          }
        }]
      }
    }]
  };
 */
function buildActions(actionArr) {
  actionArr = eval(actionArr);
  var items = Array();
  if (_helper.isEmptyObject(actionArr)) {
    return { items: items };
  }
  for (var k in actionArr) {
    items.push(buildAction(k, actionArr[k]));
  }
  return { items: items };
}

/**
 * return {
      actionIndex: {
        text: "动作0"
      },
      trigger: {
        text: 'trigger'
      },
      action: {
        text: 'click'
      },
      page: {
        text: '/a/b.html'
      },
      element: {
        text: '.btn'
      },
      repeatDataField: {
        items: [{
          filedName: {
            text: 'name'
          },
          filedValue: {
            text: 'tinyApp'
          }
        }]
      }
    }
 */
function buildAction(index, action) {
  var actionObj = {
    actionIndex: {
      text: "动作" + index
    }
  };
  if (_helper.isEmptyObject(action)) return actionObj;
  for (var k in action) {
    if (_helper.isEmptyObject(action[k])) continue;
    if (k === 'data') {
      actionObj['repeatDataField'] = buildActionData(action[k]);
    }
    actionObj[k] = {
      text: action[k]
    };
  }
  return actionObj;
}

/**
 * return {
        items: [{
          filedName: {
            text: 'name'
          },
          filedValue: {
            text: 'tinyApp'
          }
        }]
      }
 */
function buildActionData(actionData) {
  var items = [];
  if (_helper.isEmptyObject(actionData)) {
    return { items: items };
  }
  for (var k in actionData) {
    items.push({
      fieldName: {
        text: k
      },
      fieldValue: {
        text: actionData[k]
      }
    });
  }
  return { items: items };
}

/**
 * 查看发布版的字段table
 *  return {
    list: [{
      fieldCode: 'name',
      fieldName: '姓名',
      fieldType: '字符串',
      fieldComment: '备注呵哈西安撒大声地'
    }, {
        fieldCode: 'version',
        fieldName: '版本',
        fieldType: '整数',
        fieldComment: '备注OK哦介乎额方面段'
      }]
  }
 */
function buildCheckedField(fieldArr) {
  fieldArr = eval(fieldArr);
  return { list: fieldArr };
}

/**
 * 检查字段后的table
 * 入参：
 * {
 * "new":{
 *     "defined":[],
 *     "undefined":[{
 *         "appId":"1004",
 *         "eventId":21,
 *         "fieldCategory":"custom",
 *         "fieldCode":"price2"
 *     }]
 * },
 * "contain":{
 *     "unused":[],
 *     "used":[],
 *     "defined":[]
 * }
 * 出参：
 * 
 * return {
 *  new: {list: []},
 *  contain: {list: []}
 * }
每个array 格式： {
    list: [{
      new_fieldCode_iconVisable: true,
      fieldCode: { 
        text: 'name', 
        content: '停用已有字段'
      },
      fieldName: {
        value: '姓名',
        disabled: false
      },
      fieldType: {
        options: [
          { label: 'string', value: '字符串' },
          { label: 'int', value: '整形' }
        ]
      },
      fieldComment: {
        value: '备注呵哈西安撒大声地',
        disabled: false
      }
    }, {
        contain_fieldCode_iconVisable: true,
        fieldCode: { 
          text: 'version', 
          content: '启用已停字段'
        },
        fieldName: {
          value: '版本',
          disabled: true
        },
        fieldTypeValue: {
          value: '整形',
          disabled: true
        },
        fieldComment: {
          value: '备注OK哦介乎额方面段',
          disabled: true
        }
      }]
  }
 */
function buildCheckedFieldTable(fieldArr) {
  // fieldArr = JSON.parse(fieldArr);
  var list = {};
  if (_helper.isEmptyObject(fieldArr)) {
    return { list: { 'new': [], 'contain': [] } };
  }
  for (var k in fieldArr) {
    var items = [];
    for (var m in fieldArr[k]) {
      if ("undefined" === m) {
        // new_undefined
        items = items.concat(buildCheckedFieldTableColumn(fieldArr[k][m], false, k + "_", buildFieldTipMsg(k, m)));
      } else {
        items = items.concat(buildCheckedFieldTableColumn(fieldArr[k][m], true, k + "_", buildFieldTipMsg(k, m)));
      }
    }
    list[k] = { list: items, total: items.length };
  }
  console.log((0, _stringify2.default)(list));
  return list;
}
/**
 * return [msg, fieldStatus, iconColor]
 */
function buildFieldTipMsg(label1, label2) {
  if ('new' === label1) {
    switch (label2 || '') {
      case "defined":
        return ["新增已定义。（字段在小程序的其他事件中已定义）", 0, '#9da09e'];
      case "undefined":
        return ["新增未定义。（字段在小程序的所有事件中未定义）", 0, '#3399FF'];
    }
  } else if ('contain' === label1) {
    switch (label2 || '') {
      case "unused":
        return ["停用事件使用字段", 1, '#ef4e09'];
      case "used":
        return ["启用事件停用字段", 0, '#45bc71'];
      case "defined":
        return ["", 0, '#9da09e'];
      default:
        return ["", 0, '#9da09e'];
    }
  }
}

function buildCheckedFieldTableColumn(fieldArr, disabled, prefix, msg) {
  var items = [];
  for (var n in fieldArr) {
    var obj = {};
    for (var s in fieldArr[n]) {
      if ('fieldCode' === s) {
        // obj[prefix + s] = fieldArr[n][s]
        obj[prefix + s] = {
          text: fieldArr[n][s],
          c: msg[0] //'停用已有字段'...

          //new_fieldCode_iconVisable
        };obj[prefix + s + '_iconVisable'] = msg[0] === "" ? false : true;
        //new_fieldCode_icon: { type: 'info-circle', size: 12, color: '#3399FF' }
        obj[prefix + s + '_icon'] = { type: 'info-circle', size: 12, color: msg[2] };
      } else if ('fieldType' === s) {
        if (disabled) {
          obj[prefix + 'fieldTypeValue'] = {
            value: fieldArr[n][s],
            disabled: disabled
          };
        } else {
          obj[prefix + s] = {
            options: [{ label: 'string', value: '字符串' }, { label: 'int', value: '整形' }]
          };
        }
      } else if ('fieldStatus' === s) {
        obj[prefix + s] = {
          value: msg[1],
          disabled: disabled
        };
      } else if ('fieldComment' === s) {
        obj[prefix + s] = {
          value: fieldArr[n][s]
        };
      } else {
        obj[prefix + s] = {
          value: fieldArr[n][s],
          disabled: disabled
        };
      }
    }
    if (obj[prefix + 'fieldTypeValue'] === undefined && obj[prefix + 'fieldType'] === undefined) {
      obj[prefix + 'fieldType'] = {
        options: [{ label: 'string', value: '字符串' }, { label: 'int', value: '整形' }]
      };
    }
    items.push(obj);
  }
  // console.log(items)
  return items;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["buildEventJSONFromStore"] = function() {
  
var _stringify = _fakeRequire("babel-runtime/core-js/json/stringify");

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store;

  //从store构造事件json对象

  // const queryObj = {
  //   appId: store.get("appId"),
  //   eventId: store.get("eventId"),
  //   eventCode: store.get("eventCode"),
  //   eventName: store.get("eventName"),
  //   eventConfig: [{ "trigger": "switchTab", "action": "report", "page": "pages/wallet/wallet", "data": { "pageName": "pageName" } }, { "trigger": "switchTab", "action": "report", "page": "pages/map/map", "data": { "pageName": "pageName" } }],
  //   eventStatus: 1,
  //   testArr: ['a', 'b'],
  //   eventFields: [{ "fieldCode": "price", "fieldComment": "价格", "fieldName": "price", "fieldStatus": 0, "fieldType": "int" }]
  // };

  var eventConfig = {
    appId: store.get("appId"),
    eventId: store.get("eventId"),
    eventCode: store.get("eventCode").value,
    eventName: store.get("eventName").value,
    eventConfig: function () {
      var repeatActionItems = store.get('repeatAction.items');
      if (repeatActionItems === undefined) {
        console.log('no data');
        return;
      }
      //config
      var config = [];
      for (var k in repeatActionItems) {
        var action = {};
        action['trigger'] = repeatActionItems[k]['trigger'].value;
        action['action'] = repeatActionItems[k]['action'].value;
        action['page'] = repeatActionItems[k]['page'].value;
        action['element'] = repeatActionItems[k]['element'].value;
        var dataArr = {};
        for (var d in repeatActionItems[k]['repeatDataField']['items']) {
          dataArr[repeatActionItems[k]['repeatDataField']['items'][d]['fieldName'].value] = repeatActionItems[k]['repeatDataField']['items'][d]['fieldValue'].value;
        }
        action['data'] = dataArr;
        config.push(action);
      }
      console.log('闭包', (0, _stringify2.default)(config), config);
      return config;
    }(),
    eventStatus: 1, //强制查询发布事件，进行历史字段合并。
    eventFields: function () {
      //获取复合组件的小store。
      var store = window._checkFieldStore;
      //eventNewFields -> new_
      //eventContainFields -> contain_
      var getCheckFields = function getCheckFields(rootPath, prefix) {
        var repeatItems = store.get(rootPath + '.list');
        if (repeatItems === undefined) {
          console.log('no data');
          return;
        }
        var config = [];
        for (var k in repeatItems) {
          var obj = {};
          console.log(prefix + '_fieldCode');
          obj['fieldCode'] = repeatItems[k][prefix + '_fieldCode'].text;
          obj['fieldName'] = repeatItems[k][prefix + '_fieldName'].value;
          obj['fieldComment'] = repeatItems[k][prefix + '_fieldComment'].value;
          //根据 fieldType 和 fieldTypeValue 取值
          obj['fieldType'] = repeatItems[k][prefix + '_fieldTypeValue'].value || function () {
            var opts = repeatItems[k][prefix + '_fieldType'].options;
            var value = repeatItems[k][prefix + '_fieldType'].value;
            for (var j in opts) {
              if (value === opts[j].value) {
                return opts[j].label;
              }
            }
          }();
          //db 之存储0：启用，1：停用
          obj['fieldStatus'] = repeatItems[k][prefix + '_fieldStatus'].value;
          config.push(obj);
        }
        console.log('fields', (0, _stringify2.default)(config), config);
        return config;
      };
      var newFields = getCheckFields('eventNewFields', 'new') || [];
      var containFields = getCheckFields('eventContainFields', 'contain') || [];
      return newFields.concat(containFields);
    }()
  };
  console.log(eventConfig);
  return eventConfig;
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["storeConstSet"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main() {

  return {
    //选中的开发人员
    eventTestDeveloperUserId: "eventTestDeveloperUserId"
  };
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["emptyValidator"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      state = _ref.state,
      statePath = _ref.statePath;

  //通用非空校验，前提是元素有value域待校验。
  // console.log('emptyValidator 目前验证是否为空，后续添加长度校验等业务校验。统一管理所有业务校验规则。')
  var _helper = helper();
  var _constSet = new constSet();

  if (store.get(statePath) === undefined) {
    return _helper.validationResult(true);
  }

  // console.log(state.bind, state.disabled, store.get(statePath))
  //如果元素隐藏的，返回true
  //TODO new_fieldType 隐藏时的控制
  if (state.disabled) {
    return _helper.validationResult(true);
  }

  var value = state.value;

  //特殊字段校验
  switch (state.bind) {
    case "new_fieldType":
      {
        var rootStatePath = statePath.substring(0, statePath.lastIndexOf("."));
        // console.log('new_fieldType -> ', rootStatePath + '.new_fieldName', store.get(rootStatePath + '.new_fieldName'))
        if (store.get(rootStatePath + '.new_fieldName') && store.get(rootStatePath + '.new_fieldName').disabled) {
          return _helper.validationResult(true);
        }
      }
      break;
    case 'fieldCode':
      {
        if (value && value.length > _constSet._fieldCode_len) {
          return _helper.validationResult(false, '长度超过' + _constSet._fieldCode_len);
        }
      }
      break;
    case 'fieldValue':
      {
        if (value && value.length > _constSet._fieldValue_len) {
          return _helper.validationResult(false, '长度超过' + _constSet._fieldValue_len);
        }
      }
      break;
    case 'fieldName':
      {
        if (value && value.length > _constSet._fieldCode_len) {
          return _helper.validationResult(false, '长度超过' + _constSet._fieldCode_len);
        }
      }
      break;
    case 'new_fieldName':
      {
        if (value && value.length > _constSet._fieldName_len) {
          return _helper.validationResult(false, '长度超过' + _constSet._fieldName_len);
        }
      }
      break;
    case 'new_fieldComment':
      {
        if (value && value.length > _constSet._fieldComment_len) {
          return _helper.validationResult(false, '长度超过' + _constSet._fieldComment_len);
        } else {
          //允许为空
          return _helper.validationResult(true);
        }
      }
      break;
    default:
  }

  return _helper.validationResult(!_helper.isUndefined(value));
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["init"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      util = _ref.util;

  util.ajax({
    url: ajaxURLSet().bgdQueryAllGlobalFieldsURL,
    method: 'get',
    data: {},
    dataType: "json",
    jsonpCallback: "callback",
    type: "jsonp",
    success: function success(_ref2) {
      var code = _ref2.code,
          data = _ref2.data,
          msg = _ref2.msg;

      console.log(code, data, msg);
      if (code == '200') {
        store.set("globalFieldTable.list", data);
        store.set("globalFieldTable.total", data.length);
      } else {
        util.message.error("全局字段列表获取失败, errorcode = " + code);
      }
    }
  });
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["editGlobalFieldListener"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 * 
 * 点击“编辑“按钮
 */
function main(_ref, index) {
  var store = _ref.store,
      util = _ref.util,
      statePath = _ref.statePath,
      rootStatePath = _ref.rootStatePath;

  util.dialog.open("editGlobalFieldDlg");
  var index = parseInt(rootStatePath.split(".").pop());

  var currentField = store.get("globalFieldTable.list")[index];
  setTimeout(function () {
    store.set("currentEditFieldCode.value", currentField.fieldCode);
    store.set("currentEditFieldName.value", currentField.fieldName);
    store.set("currentEditFieldType.value", currentField.fieldType);
    store.set("currentEditFieldComment.value", currentField.fieldComment);
    store.set("currentEditFieldValue.value", currentField.fieldValue);
  }, 100);

  console.log(statePath, rootStatePath, index);
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["doEditGlobalFieldListener"] = function() {
  
var _stringify = _fakeRequire("babel-runtime/core-js/json/stringify");

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      util = _ref.util;

  var param = {
    fieldCode: store.get("currentEditFieldCode.value"),
    fieldName: store.get("currentEditFieldName.value"),
    fieldType: store.get("currentEditFieldType.value"),
    fieldComment: store.get("currentEditFieldComment.value"),
    fieldValue: store.get("currentEditFieldValue.value")
  };

  util.ajax({
    url: ajaxURLSet().bgdAddOrEditGlobalFieldURL,
    method: 'get',
    data: {
      requestStr: encodeURI((0, _stringify2.default)(param))
    },
    dataType: "json",
    jsonpCallback: "callback",
    type: "jsonp",
    success: function success(_ref2) {
      var code = _ref2.code,
          data = _ref2.data,
          msg = _ref2.msg;

      console.log(code, data, msg);
      if (code == '200') {
        util.message.success("修改成功");

        setTimeout(function () {
          util.dialog.close("editGlobalFieldDlg");
        }, 100);
        locationToGlobalFieldList();
      } else {
        util.message.error("修改失败, errorcode = " + code);
      }
    }
  });
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["addGlobalFieldListener"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 * 
 * 点击“编辑“按钮
 */
function main(_ref, index) {
  var store = _ref.store,
      util = _ref.util,
      statePath = _ref.statePath,
      rootStatePath = _ref.rootStatePath;

  util.dialog.open("addGlobalFieldDlg");

  console.log(statePath, rootStatePath, index);
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["doAddGlobalFieldListener"] = function() {
  
var _stringify = _fakeRequire("babel-runtime/core-js/json/stringify");

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      util = _ref.util;

  var param = {
    fieldCode: store.get("addFieldCode.value"),
    fieldName: store.get("addFieldName.value"),
    fieldType: store.get("addFieldType.value"),
    fieldComment: store.get("addFieldComment.value"),
    fieldValue: store.get("addFieldValue.value")
  };

  util.ajax({
    url: ajaxURLSet().bgdAddOrEditGlobalFieldURL,
    method: 'get',
    data: {
      requestStr: encodeURI((0, _stringify2.default)(param))
    },
    dataType: "json",
    jsonpCallback: "callback",
    type: "jsonp",
    success: function success(_ref2) {
      var code = _ref2.code,
          data = _ref2.data,
          msg = _ref2.msg;

      console.log(code, data, msg);
      if (code == '200') {
        util.message.success("新增成功");

        setTimeout(function () {
          util.dialog.close("addGlobalFieldDlg");
        }, 100);

        locationToGlobalFieldList();
      } else {
        util.message.error("新增失败, errorcode = " + code);
      }
    }
  });
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["doDeleteGlobalFieldListener"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      util = _ref.util,
      rootStatePath = _ref.rootStatePath;

  var index = parseInt(rootStatePath.split(".").pop());
  var currentFieldCode = store.get("globalFieldTable.list")[index].fieldCode || "";

  util.ajax({
    url: ajaxURLSet().bgdDeleteGlobalFieldURL,
    method: 'get',
    data: {
      fieldCode: currentFieldCode
    },
    dataType: "json",
    jsonpCallback: "callback",
    type: "jsonp",
    success: function success(_ref2) {
      var code = _ref2.code,
          data = _ref2.data,
          msg = _ref2.msg;

      console.log(code, data, msg);
      if (code == '200') {
        util.message.success("删除成功");

        locationToGlobalFieldList();
      } else {
        util.message.error("删除失败, errorcode = " + code);
      }
    }
  });
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["locationToGlobalFieldList"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      util = _ref.util;

  setTimeout(function () {
    util.location.goto("/report/tinyapp/backgroundMng.htm");
  }, 1000);
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["doDB2TairListener"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      util = _ref.util,
      rootStatePath = _ref.rootStatePath;


  util.ajax({
    url: ajaxURLSet().bgdDB2TairURL,
    method: 'get',
    data: {},
    dataType: "json",
    jsonpCallback: "callback",
    type: "jsonp",
    success: function success(_ref2) {
      var code = _ref2.code,
          data = _ref2.data,
          msg = _ref2.msg;

      console.log(code, data, msg);
      if (code == '200') {
        util.message.success("同步成功");
      } else {
        util.message.error("同步失败, errorcode = " + code);
      }
    }
  });
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}

__CICADA_LOGICS__["deleteEvent"] = function() {
  
/**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      util = _ref.util;

  var eventCode = store.get("eventCode.value");
  var isBatch = eventCode.indexOf("]") > 0;
  var params = {
    appId: store.get("appId.value"),
    eventCode: eventCode
  };
  if (isBatch) {
    params.eventCodes = eventCode;
  }
  try {
    util.ajax({
      url: isBatch ? ajaxURLSet().bgdBatchDeleteEvent : ajaxURLSet().bgdDeleteEvent,
      method: 'get',
      data: params,
      jsonpCallback: "callback",
      type: "jsonp",
      success: function success(_ref2) {
        var code = _ref2.code,
            data = _ref2.data,
            msg = _ref2.msg;

        if (code == '200') {
          alert("result:" + msg);
        } else {
          console.log("操作失败, errorcode = " + code);
          util.message.error("操作失败, 请刷新");
        }
      }
    });
  } catch (e) {
    console.log(e);
  }
}

const requests = {
  
}
return _runMainWithRequestsAndArguments(main, requests, arguments)
    
}



function initMeasureOptions() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["initMeasureOptions"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function initStatTypeOptions() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["initStatTypeOptions"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function initMeasureItems() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["initMeasureItems"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function mergeArray() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["mergeArray"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function initGroupOptions() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["initGroupOptions"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function renderOptions() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["renderOptions"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function initGroupItems() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["initGroupItems"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function initFilterItems() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["initFilterItems"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function constSet() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["constSet"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function ajaxURLSet() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["ajaxURLSet"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function commonUtil() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["commonUtil"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function fmtNum() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["fmtNum"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function elementVisible() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["elementVisible"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function helper() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["helper"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function converter() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["converter"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function buildEventJSONFromStore() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["buildEventJSONFromStore"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function storeConstSet() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["storeConstSet"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function emptyValidator() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["emptyValidator"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function init() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["init"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function editGlobalFieldListener() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["editGlobalFieldListener"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function doEditGlobalFieldListener() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["doEditGlobalFieldListener"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function addGlobalFieldListener() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["addGlobalFieldListener"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function doAddGlobalFieldListener() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["doAddGlobalFieldListener"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function doDeleteGlobalFieldListener() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["doDeleteGlobalFieldListener"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function locationToGlobalFieldList() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["locationToGlobalFieldList"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function doDB2TairListener() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["doDB2TairListener"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}

function deleteEvent() {
  const argv = _getInjectArgumentsAndRestArguments(arguments)
  return __CICADA_LOGICS__["deleteEvent"].apply(null, [argv.injectArguments].concat(argv.restArguments))
}


/* ======== common logic end ======== */

/* ======== page config start ======== */
window.__PAGE_CONFIG__ = {
 type: "div",
 children: [
  {
   type: "h3",
   children: "全局字段管理",
   props: {
   },
   listeners: {
   },
   interseptors: {
   },
   index: 0
  },
  {
   type: "Row",
   children: [
    {
     type: "Col",
     children: [
      {
       type: "Button",
       props: {
        text: "新增全局字段"
       },
       listeners: {
        onClick: {
         preventDefault: false,
         fns: [
          {
           fn: "CICADA_LOGIC_addGlobalFieldListener"
          }
         ]
        }
       },
       interseptors: {
       }
      }
     ],
     props: {
      span: 24,
      align: "right"
     },
     listeners: {
     },
     interseptors: {
     },
     expanded: true
    }
   ],
   index: 1,
   expanded: true
  },
  {
   type: "Table",
   children: [
    {
     type: "Table.Column",
     children: [
     ],
     props: {
      dataIndex: "fieldCode",
      title: "字段Code"
     },
     listeners: {
     },
     interseptors: {
     },
     index: 0
    },
    {
     type: "Table.Column",
     children: [
     ],
     props: {
      dataIndex: "fieldName",
      title: "字段名称"
     },
     listeners: {
     },
     interseptors: {
     },
     index: 1
    },
    {
     type: "Table.Column",
     children: [
     ],
     props: {
      dataIndex: "fieldType",
      title: "字段类型"
     },
     listeners: {
     },
     interseptors: {
     },
     index: 3
    },
    {
     type: "Table.Column",
     children: [
     ],
     props: {
      dataIndex: "fieldComment",
      title: "字段备注"
     },
     listeners: {
     },
     interseptors: {
     },
     index: 2
    },
    {
     type: "Table.Column",
     children: [
     ],
     props: {
      dataIndex: "fieldValue",
      title: "字段值"
     },
     listeners: {
     },
     interseptors: {
     },
     index: 4
    },
    {
     type: "Table.Column",
     children: [
      {
       type: "Box",
       children: [
        {
         type: "Link",
         listeners: {
          onClick: {
           preventDefault: false,
           fns: [
            {
             fn: "CICADA_LOGIC_editGlobalFieldListener"
            }
           ]
          }
         },
         interseptors: {
         },
         bind: "editField",
         initialState: {
          text: "修改",
          color: "",
          target: "_blank"
         }
        }
       ],
       expanded: true,
       index: 0
      },
      {
       type: "Box",
       listeners: {
       },
       interseptors: {
       },
       children: [
        {
         type: "Label",
         props: {
          text: "|",
          color: "#e9e9e9"
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: true,
       props: {
        width: "2",
        style: {
        }
       },
       index: 1
      },
      {
       type: "Box",
       children: [
        {
         type: "Link",
         listeners: {
          onClick: {
           preventDefault: false,
           fns: [
            {
             fn: "CICADA_LOGIC_doDeleteGlobalFieldListener"
            }
           ]
          }
         },
         interseptors: {
         },
         bind: "deleteField",
         initialState: {
          text: "删除",
          color: "",
          target: "_blank"
         }
        }
       ],
       expanded: true,
       index: 0
      }
     ],
     expanded: true,
     index: 5,
     props: {
      title: "操作"
     },
     listeners: {
     },
     interseptors: {
     }
    }
   ],
   bind: "globalFieldTable",
   initialState: {
    dynamic: false,
    pageSize: 3
   },
   listeners: {
   },
   interceptors: {
   },
   expanded: false,
   index: 2
  },
  {
   type: "Dialog",
   children: [
    {
     type: "Dialog.Title",
     children: [
      {
       type: "Label",
       props: {
        text: "修改事件"
       },
       listeners: {
       },
       interseptors: {
       }
      }
     ],
     expanded: false,
     index: 0
    },
    {
     type: "Dialog.Content",
     children: [
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "currentEditFieldCode",
           initialState: {
            labelCol: {
             span: 6
            },
            label: "字段code",
            disabled: true
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ]
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "currentEditFieldName",
           initialState: {
            labelCol: {
             span: 6
            },
            label: "字段name",
            disabled: true
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: false
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "currentEditFieldType",
           initialState: {
            labelCol: {
             span: 6
            },
            label: "字段类型",
            disabled: false
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: true
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "currentEditFieldComment",
           initialState: {
            labelCol: {
             span: 6
            },
            label: "字段评论",
            disabled: false
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: true
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Textarea",
           bind: "currentEditFieldValue",
           initialState: {
            label: "字段枚举值"
           },
           listeners: {
           },
           interseptors: {
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: true
      }
     ],
     expanded: false,
     index: 1
    },
    {
     type: "Dialog.Footer",
     children: [
      {
       type: "Button",
       listeners: {
        onClick: {
         preventDefault: false,
         fns: [
          {
           fn: "CICADA_LOGIC_doEditGlobalFieldListener"
          }
         ]
        }
       },
       interseptors: {
       },
       bind: "doEditGlobalField",
       initialState: {
        text: "提交"
       }
      }
     ]
    }
   ],
   bind: "editGlobalFieldDlg",
   initialState: {
   },
   listeners: {
   },
   interseptors: {
   },
   expanded: false,
   index: 3
  },
  {
   type: "Dialog",
   children: [
    {
     type: "Dialog.Title",
     children: [
      {
       type: "Label",
       props: {
        text: "新增事件"
       },
       listeners: {
       },
       interseptors: {
       }
      }
     ],
     expanded: true,
     index: 0
    },
    {
     type: "Dialog.Content",
     children: [
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "addFieldCode",
           initialState: {
            labelCol: {
             span: 6
            },
            label: "字段code",
            disabled: false
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ]
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "addFieldName",
           initialState: {
            labelCol: {
             span: 6
            },
            label: "字段name",
            disabled: false
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: true
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "addFieldType",
           initialState: {
            labelCol: {
             span: 6
            },
            label: "字段类型",
            disabled: false
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: true
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "addFieldComment",
           initialState: {
            labelCol: {
             span: 6
            },
            label: "字段评论",
            disabled: false
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: true
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Textarea",
           bind: "addFieldValue",
           initialState: {
            label: "字段枚举值"
           },
           listeners: {
           },
           interseptors: {
           }
          }
         ],
         props: {
          span: 24
         },
         listeners: {
         },
         interseptors: {
         }
        }
       ],
       expanded: true
      }
     ],
     expanded: true,
     index: 1
    },
    {
     type: "Dialog.Footer",
     children: [
      {
       type: "Button",
       listeners: {
        onClick: {
         preventDefault: false,
         fns: [
          {
           fn: "CICADA_LOGIC_doAddGlobalFieldListener"
          }
         ]
        }
       },
       interseptors: {
       },
       bind: "doAddGlobalField",
       initialState: {
        text: "提交"
       }
      }
     ]
    }
   ],
   bind: "addGlobalFieldDlg",
   initialState: {
   },
   listeners: {
   },
   interseptors: {
   },
   expanded: false,
   index: 4
  },
  {
   type: "h3",
   children: "手动任务",
   props: {
   },
   listeners: {
   },
   interseptors: {
   },
   index: 5
  },
  {
   type: "Row",
   children: [
    {
     type: "Col",
     children: [
      {
       type: "Button",
       props: {
        text: "发布事件表同步tair，删除测试表"
       },
       listeners: {
        onClick: {
         preventDefault: false,
         fns: [
          {
           fn: "CICADA_LOGIC_doDB2TairListener"
          }
         ]
        }
       },
       interseptors: {
       }
      }
     ],
     props: {
      span: 24,
      align: "left"
     },
     listeners: {
     },
     interseptors: {
     },
     expanded: true
    }
   ],
   index: 6,
   expanded: true
  },
  {
   type: "div",
   children: [
    {
     type: "h1",
     props: {
      style: {
       marginTop: "10px"
      }
     },
     listeners: {
     },
     interseptors: {
     }
    }
   ],
   index: 8
  },
  {
   type: "Card",
   children: [
    {
     type: "Card.Extra",
     children: [
     ],
     index: 0
    },
    {
     type: "Card.Content",
     children: [
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "span",
           children: "{ 批量删除eventCode: [\"click-41\",\"click-41aa\"]}",
           props: {
           },
           listeners: {
           },
           interseptors: {
           },
           index: 0
          }
         ],
         index: 1,
         props: {
          gutter: 16,
          type: "flex",
          align: "left",
          justify: "start",
          span: 24
         },
         listeners: {
         },
         interseptors: {
         },
         expanded: true
        }
       ],
       index: 1,
       expanded: true
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Label",
           props: {
            text: "appId:",
            color: "",
            fontSize: "DEFAULT",
            style: {
             marginTop: "5px"
            }
           },
           listeners: {
           },
           interseptors: {
           }
          }
         ],
         index: 1,
         props: {
          gutter: 16,
          type: "flex",
          align: "left",
          justify: "start",
          span: 2
         },
         listeners: {
         },
         interseptors: {
         },
         expanded: true
        },
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "appId",
           initialState: {
            labelCol: {
             span: 6
            }
           }
          }
         ],
         index: 1,
         props: {
          gutter: 16,
          type: "flex",
          align: "left",
          justify: "start"
         },
         listeners: {
         },
         interseptors: {
         },
         expanded: true
        },
        {
         type: "Col",
         children: [
          {
           type: "Label",
           props: {
            text: "eventCode:",
            color: "",
            fontSize: "DEFAULT",
            style: {
             marginTop: "5px"
            }
           },
           listeners: {
           },
           interseptors: {
           }
          }
         ],
         index: 1,
         props: {
          gutter: 16,
          type: "flex",
          align: "left",
          justify: "start",
          span: 2
         },
         listeners: {
         },
         interseptors: {
         },
         expanded: true
        },
        {
         type: "Col",
         children: [
          {
           type: "Input",
           listeners: {
           },
           interseptors: {
           },
           bind: "eventCode",
           initialState: {
            labelCol: {
             span: 6
            }
           }
          }
         ],
         index: 1,
         props: {
          gutter: 16,
          type: "flex",
          align: "left",
          justify: "start"
         },
         listeners: {
         },
         interseptors: {
         },
         expanded: true
        }
       ],
       expanded: true,
       index: 0
      },
      {
       type: "Row",
       children: [
        {
         type: "Col",
         children: [
          {
           type: "Button",
           props: {
            text: "删除"
           },
           listeners: {
            onClick: {
             preventDefault: false,
             fns: [
              {
               fn: "CICADA_LOGIC_deleteEvent"
              }
             ]
            }
           },
           interseptors: {
           }
          }
         ],
         index: 1,
         props: {
          gutter: 16,
          type: "flex",
          align: "left",
          justify: "start",
          span: 3
         },
         listeners: {
         },
         interseptors: {
         },
         expanded: true
        },
        {
         type: "Col",
         children: [
          {
           type: "Button",
           props: {
            text: "批量删除"
           },
           listeners: {
            onClick: {
             preventDefault: false,
             fns: [
              {
               fn: "CICADA_LOGIC_deleteEvent"
              }
             ]
            }
           },
           interseptors: {
           }
          }
         ],
         index: 1,
         props: {
          gutter: 16,
          type: "flex",
          align: "left",
          justify: "start",
          span: 3
         },
         listeners: {
         },
         interseptors: {
         },
         expanded: true
        }
       ],
       index: 2,
       expanded: true
      }
     ],
     expanded: true
    }
   ],
   props: {
    title: "",
    bordered: true,
    bodyStyle: {
    }
   },
   listeners: {
   },
   interseptors: {
   },
   expanded: true,
   index: 7
  }
 ],
 expanded: true
}

function __cicada_each(obj, fn) {
  return Object.keys(obj).forEach(function(k) {
    fn(obj[k], k)
  })
}
function __cicada_walk(obj, childrenName, handler, path) {
  path = path || []
  handler(obj, path)
  if (obj[childrenName] !== undefined && Array.isArray(obj[childrenName])) {
    obj[childrenName].forEach(function(child, index) {
      return __cicada_walk(child, childrenName, handler, path.concat([childrenName, index]))
    })
  }
}
function __cicada_reduce(obj, handler, initial) {
  initial = initial || {}
  return Object.keys(obj).reduce(function(last, key) {
    return handler(last, obj[key], key)
  }, initial)
}
function __cicada_filter(obj, handler) {
  return __cicada_reduce(obj, function (last, item, key) {
    var tempObj = {}
    tempObj[key] = item
    return handler(item, key) ? Object.assign({}, last, tempObj) : last
  })
}
function __cicada_mapValues(obj, handler) {
  return __cicada_reduce(obj, function(last, value, key) {
    var tempObj = {}
    tempObj[key] = handler(value, key)
    return Object.assign({}, last, tempObj)
  })
}
function replaceLogicNameToRef(config) {
  var CICADA_LOGIC_REGEXP = /^CICADA_LOGIC_/
  __cicada_walk(config, 'children', function(currentConfig) {
    var listeners = currentConfig.listeners
    var visible = currentConfig.visible
    var interseptors = currentConfig.interseptors
    var interceptors = currentConfig.interceptors || interseptors
    var validators = currentConfig.validators
    debugger
    if (listeners) {
      __cicada_each(listeners, function(listener) {
        __cicada_each(listener.fns, function(fnDef) {
          if (typeof fnDef.fn === 'string' && CICADA_LOGIC_REGEXP.test(fnDef.fn)) {
            fnDef.fn = __CICADA_LOGICS__[fnDef.fn.replace('CICADA_LOGIC_', '')]
          }
        })
      })
    }
    if (interceptors !== undefined && Object.keys(interceptors).length !== 0) {
      var finalInterceptors = __cicada_mapValues(__cicada_filter(interceptors, function(logicName) {
        return logicName.trim() !== ''
      }), function(logicName) {
        if (CICADA_LOGIC_REGEXP.test(logicName)) {
          return __CICADA_LOGICS__[logicName.replace('CICADA_LOGIC_', '')]
        }
        return logicName
      })
      if (currentConfig.interceptors) {
        currentConfig.interceptors = finalInterceptors
      } else {
        currentConfig.interseptors = finalInterceptors
      }
    }
    if (typeof visible === 'string' && CICADA_LOGIC_REGEXP.test(visible)) {
      currentConfig.visible = __CICADA_LOGICS__[visible.replace('CICADA_LOGIC_', '')]
    }
    if (validators !== undefined && Object.keys(validators).length !== 0) {
      __cicada_each(validators, function(validator) {
        validator.forEach(function(validatorDef) {
          if (typeof validatorDef.fn === 'string' && CICADA_LOGIC_REGEXP.test(validatorDef.fn)) {
            validatorDef.fn = __CICADA_LOGICS__[validatorDef.fn.replace('CICADA_LOGIC_', '')]
          }
        })
      })
    }
  })
}
replaceLogicNameToRef(window.__PAGE_CONFIG__)
/* ======== page config end ======== */

/* ======== initial stuff start ======== */
window.__INITIAL_STUFF__ = 
    (function(){
      
  
const initArgv = Array.prototype.slice.call(arguments)
const initialStuffArr = [
function(){
  const __getInterfaceFunction__ = function() {
    var initialState
    /**
 * Javascript 基础语法学习 http://www.w3school.com.cn/js/index.asp
 * Javascript es6入门 http://es6.ruanyifeng.com/
 * 金蝉使用文档(完善中) http://site.alipay.net/cicada/cicada-engine
 * 调试完代码后, 记得去掉代码中的 debugger。代码干净 bug 少。
 * 使用 Shift + Alt + F 快捷键可快速格式化代码, 校正缩进和空格, 按 F1 可查看所有支持的快捷键。
 */
function main(_ref) {
  var store = _ref.store,
      util = _ref.util;

  util.ajax({
    url: ajaxURLSet().bgdQueryAllGlobalFieldsURL,
    method: 'get',
    data: {},
    dataType: "json",
    jsonpCallback: "callback",
    type: "jsonp",
    success: function success(_ref2) {
      var code = _ref2.code,
          data = _ref2.data,
          msg = _ref2.msg;

      console.log(code, data, msg);
      if (code == '200') {
        store.set("globalFieldTable.list", data);
        store.set("globalFieldTable.total", data.length);
      } else {
        util.message.error("全局字段列表获取失败, errorcode = " + code);
      }
    }
  });
}
    const __interface__ = {}
    if (typeof main === 'function') { __interface__.main = main }
    if (initialState) { __interface__.initialState = initialState }
    return __interface__
  }
  
const location = {
  getQuery() {
    const queries = {}
    const { search = '' } = window.location
    search.replace(/^\?/, '').split('&').forEach((searchPair) => {
      const [key, value] = searchPair.split('=')
      queries[key] = value
    })
    return queries
  },
  getOrigin() {
    return window.location.origin
  },
}

  const __initialStuff__ = {}
  __initialStuff__.initialState = function() {
    const __initialState__ = __getInterfaceFunction__().initialState
    if( typeof __initialState__ !== 'undefined' ) {
      return typeof __initialState__ === 'function' ? __initialState__({util: {location}}) : __initialState__
    }
  }
  __initialStuff__.didMount = function(){
    
const requests = {
  
}
    const __main__ = __getInterfaceFunction__().main
    const argv = Array.prototype.slice.call(arguments)
    const argv0 = Object.assign({}, argv[0], {requests})
    const newArgv = [argv0].concat(argv.slice(1))
    if (typeof __main__ === 'function') {
      return __main__.apply(null, newArgv)
    }
  }
  return __initialStuff__
}].map(initFn => initFn.apply(null, initArgv))
 
const didMount = function({store}) {
  const argv = Array.prototype.slice.call(arguments)
  initialStuffArr.forEach(({didMount, initialState}) => {
    didMount.apply(null, argv)
  })
}
const initialState = function() {
  return initialStuffArr.reduce((result, current) => {
    const currentInitialState = current.initialState() || {}
    return Object.assign({}, result, currentInitialState)
  }, {})
}

  return { didMount, initialState }

    })()
  
if (window.__INITIAL_STUFF__.initialState && typeof window.__INITIAL_STUFF__.initialState === 'function') {
  window.__INITIAL_STUFF__.initialState = window.__INITIAL_STUFF__.initialState()
}
if (window.__INITIAL_STUFF__.didMount && typeof window.__INITIAL_STUFF__.didMount === 'function') {
  var originDidMount = window.__INITIAL_STUFF__.didMount
  window.__INITIAL_STUFF__.didMount = function (_) {
    window.__STORE__ = _.store
    return originDidMount.apply(null, arguments)
  }
}
/* ======== initial stuff end ======== */

/* ======== fragments start ======== */
window.__FRAGMENTS__ = {
}
/* ======== fragments end ======== */

})()
</script>